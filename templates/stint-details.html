{% extends "base.html" %}

{% block title %}
    KARTS
{% endblock %}


{% block body %}
    <h3>
        {% kart number=stint.kart %} by {{ stint.pilot }}
        -- (started at {{ stint.stint_started_at|format_racetime }})
    </h3>

    <b>Best lap: {{ stint.best_lap|floatformat:3 }}</b><br>
    Average: {{ stint.avg_80|floatformat:3 }}<br><br>

    Best S1: {{ stint.best_sector_1|floatformat:2 }}<br>
    Best S2: {{ stint.best_sector_2|floatformat:2 }}<br><br>
    Best segments lap: {{ stint.best_theoretical|floatformat:3 }}<br><br>

    <a href="{% url 'kart-detail' stint.kart %}">Go to kart details</a><br>
    <a href="{% url 'team-detail' team.number %}">Go to team #{{ team.number }} - {{ team.name }} details</a>


    <table>
        <thead>
            <tr>
                <th>Lap #</th>
                <th>Time</th>
                <th>S1</th>
                <th>S2</th>
            </tr>
        </thead>

        {% for lap in laps %}
            <tr
                    {% if lap.lap_time == stint.best_lap %}
                        style="background-color: #f79fff"
                    {% elif lap.lap_time < close_to_best %}
                        style="background-color: #afff9f"
                    {% endif %}>

                <td>{{ close_to_best }}</td>
                <td>{{ lap.lap_time }}</td>
                <td>{{ lap.sector_1 }}</td>
                <td>{{ lap.sector_2 }}</td>
            </tr>
        {% endfor %}
    </table>


{% endblock %}